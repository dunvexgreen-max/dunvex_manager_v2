<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Qu·∫£n L√Ω Nh√¢n Vi√™n | Dunvex Admin</title>
	<link rel="icon" type="image/svg+xml"
		href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%236366f1'/><text x='50%' y='50%' dominant-baseline='central' text-anchor='middle' fill='white' font-size='60' font-family='sans-serif' font-weight='800'>DV</text></svg>">
	<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
	<style>
		:root {
			--primary: #6366f1;
			--bg-dark: #0f172a;
			--card-bg: rgba(30, 41, 59, 0.7);
			--glass-border: rgba(255, 255, 255, 0.1);
			--text-main: #f8fafc;
			--text-muted: #94a3b8;
			--accent-purple: #c084fc;
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Outfit', sans-serif;
		}

		body {
			background-color: var(--bg-dark);
			color: var(--text-main);
			min-height: 100vh;
			padding: 40px 20px;
			background-image:
				radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
				radial-gradient(at 100% 100%, rgba(192, 132, 252, 0.15) 0px, transparent 50%);
		}

		.container {
			max-width: 1000px;
			margin: 0 auto;
		}

		/* Top Bar */
		.top-bar {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 40px;
		}

		.user-info {
			display: flex;
			align-items: center;
			gap: 12px;
			background: var(--card-bg);
			padding: 8px 16px;
			border-radius: 99px;
			border: 1px solid var(--glass-border);
		}

		.avatar {
			width: 32px;
			height: 32px;
			background: linear-gradient(135deg, var(--primary), var(--accent-purple));
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 800;
			font-size: 0.8rem;
		}

		.btn-logout {
			background: transparent;
			border: 1px solid var(--glass-border);
			color: var(--text-muted);
			padding: 8px 16px;
			border-radius: 12px;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.btn-logout:hover {
			background: rgba(239, 68, 68, 0.1);
			color: #ef4444;
			border-color: rgba(239, 68, 68, 0.2);
		}

		.admin-section {
			background: var(--card-bg);
			backdrop-filter: blur(10px);
			border: 1px solid var(--glass-border);
			border-radius: 24px;
			padding: 32px;
			margin-bottom: 32px;
		}

		.admin-grid {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 24px;
			margin-bottom: 32px;
		}

		@media (max-width: 900px) {
			.admin-grid {
				grid-template-columns: 1fr;
			}
		}

		h2 {
			font-size: 1.25rem;
			margin-bottom: 20px;
			display: flex;
			align-items: center;
			gap: 12px;
			color: var(--accent-purple);
		}

		.role-form {
			display: flex;
			flex-direction: column;
			gap: 16px;
		}

		.form-row {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 12px;
		}

		.form-group label {
			display: block;
			font-size: 0.8rem;
			color: var(--text-muted);
			margin-bottom: 6px;
		}

		input,
		select {
			width: 100%;
			background: rgba(15, 23, 42, 0.5);
			border: 1px solid var(--glass-border);
			border-radius: 12px;
			padding: 10px 14px;
			color: white;
			outline: none;
			transition: all 0.3s ease;
			font-size: 0.9rem;
		}

		input:focus,
		select:focus {
			border-color: var(--primary);
			box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
		}

		.btn-action {
			background: var(--primary);
			color: white;
			border: none;
			padding: 10px 20px;
			border-radius: 10px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;
		}

		.btn-action:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(99, 102, 241, 0.3);
		}

		.btn-secondary-action {
			background: rgba(192, 132, 252, 0.15);
			color: var(--accent-purple);
		}

		.btn-edit {
			padding: 4px 10px;
			font-size: 0.75rem;
			border-radius: 4px;
			background: rgba(255, 255, 255, 0.05);
			border: 1px solid var(--glass-border);
			color: var(--text-main);
			cursor: pointer;
		}

		.btn-edit:hover {
			background: var(--primary);
			color: white;
		}

		/* Table Section */
		.user-list-container {
			overflow-x: auto;
		}

		table {
			width: 100%;
			border-collapse: collapse;
			margin-top: 10px;
		}

		th {
			text-align: left;
			padding: 16px;
			color: var(--text-muted);
			font-weight: 500;
			font-size: 0.8rem;
			text-transform: uppercase;
			letter-spacing: 0.05em;
			border-bottom: 1px solid var(--glass-border);
			white-space: normal;
			line-height: 1.2;
		}

		td {
			padding: 16px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
			font-size: 0.95rem;
		}

		.role-badge {
			padding: 4px 10px;
			border-radius: 6px;
			font-size: 0.75rem;
			font-weight: 600;
		}

		.badge-admin {
			background: rgba(99, 102, 241, 0.15);
			color: #818cf8;
		}

		.badge-user {
			background: rgba(34, 197, 94, 0.15);
			color: #4ade80;
		}

		.status-dot {
			display: inline-block;
			width: 8px;
			height: 8px;
			border-radius: 50%;
			margin-right: 6px;
		}

		.status-active {
			background: #22c55e;
		}

		.status-locked {
			background: #ef4444;
		}

		.loading-overlay {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(15, 23, 42, 0.8);
			display: none;
			justify-content: center;
			align-items: center;
			z-index: 1000;
		}

		.loader {
			width: 48px;
			height: 48px;
			border: 5px solid #FFF;
			border-bottom-color: var(--primary);
			border-radius: 50%;
			animation: rotation 1s linear infinite;
		}

		@keyframes rotation {
			0% {
				transform: rotate(0deg);
			}

			100% {
				transform: rotate(360deg);
			}
		}

		#toast {
			position: fixed;
			bottom: 20px;
			right: 20px;
			padding: 16px 24px;
			border-radius: 12px;
			background: #1e293b;
			color: white;
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
			transform: translateY(100px);
			transition: transform 0.3s ease;
			z-index: 1001;
		}

		#toast.show {
			transform: translateY(0);
		}

		@media (max-width: 768px) {
			.role-form {
				grid-template-columns: 1fr;
			}

			.btn-update {
				width: 100%;
			}
		}
	</style>
</head>

<body>
	<div class="loading-overlay" id="loader">
		<div class="loader"></div>
	</div>

	<div class="container">
		<div class="top-bar">
			<h1>Qu·∫£n L√Ω Nh√¢n Vi√™n</h1>
			<div style="display: flex; gap: 12px; align-items: center;">
				<button class="btn-logout"
					style="background: rgba(192, 132, 252, 0.1); color: var(--accent-purple); border-color: rgba(192, 132, 252, 0.2);"
					onclick="window.location.href='index.html'">üè† Trang Ch·ªß</button>
				<button class="btn-logout"
					style="background: rgba(59, 130, 246, 0.1); color: #60a5fa; border-color: rgba(59, 130, 246, 0.2);"
					onclick="loadUsers(); loadRoles();">üîÑ L√†m m·ªõi</button>
				<button class="btn-logout"
					style="background: rgba(34, 197, 94, 0.1); color: #22c55e; border-color: rgba(34, 197, 94, 0.2);"
					onclick="syncSystem()">‚öôÔ∏è ƒê·ªìng B·ªô</button>
				<div class="user-info">
					<div class="avatar" id="avatarLetter">A</div>
					<span id="adminName">Admin</span>
				</div>
				<button class="btn-logout" onclick="logout()">Tho√°t</button>
			</div>
		</div>

		<div class="admin-grid">
			<!-- CREATE NEW USER -->
			<div class="admin-section">
				<h2>‚ûï T·∫°o Nh√¢n Vi√™n M·ªõi</h2>
				<form class="role-form" id="createUserForm">
					<div class="form-group">
						<label>H·ªç v√† T√™n</label>
						<input type="text" id="newFullName" placeholder="Nguy·ªÖn VƒÉn B" required>
					</div>
					<div class="form-row">
						<div class="form-group">
							<label>Email (ƒêƒÉng nh·∫≠p)</label>
							<input type="email" id="newEmail" placeholder="nv@gmail.com" required>
						</div>
						<div class="form-group">
							<label>Vai Tr√≤ Ban ƒê·∫ßu</label>
							<select class="role-select-list" id="newRoleSelect">
								<option value="">-- ƒêang t·∫£i vai tr√≤ --</option>
								<option value="R002">Sale</option>
								<option value="R003">Kho</option>
								<option value="R004">K·∫ø to√°n</option>
								<option value="R005">Kh√°ch h√†ng</option>
							</select>
						</div>
					</div>
					<p style="font-size: 0.7rem; color: var(--text-muted);">* M·∫≠t kh·∫©u m·∫∑c ƒë·ªãnh: <b>123456</b></p>
					<button type="submit" class="btn-action">T·∫°o T√†i Kho·∫£n</button>
				</form>
			</div>

			<!-- UPDATE EXISTING USER -->
			<div class="admin-section">
				<h2>‚ö° G√°n L·∫°i Vai Tr√≤</h2>
				<form class="role-form" id="updateRoleForm">
					<div class="form-group">
						<label>Email Nh√¢n Vi√™n</label>
						<input type="email" id="targetEmail" placeholder="Ch·ªçn t·ª´ b·∫£ng b√™n d∆∞·ªõi" required>
					</div>
					<div class="form-group">
						<label>Vai Tr√≤ M·ªõi</label>
						<select class="role-select-list" id="roleSelect">
							<option value="">-- ƒêang t·∫£i vai tr√≤ --</option>
							<option value="R001">Admin</option>
							<option value="R002">Sale</option>
							<option value="R003">Kho</option>
							<option value="R004">K·∫ø to√°n</option>
							<option value="R005">Kh√°ch h√†ng</option>
						</select>
					</div>
					<div style="height: 14px;"></div>
					<button type="submit" class="btn-action btn-secondary-action">C·∫≠p Nh·∫≠t Quy·ªÅn</button>
				</form>
			</div>
		</div>

		<div class="admin-section">
			<h2>üõ°Ô∏è C·∫•u H√¨nh Quy·ªÅn Truy C·∫≠p</h2>
			<p style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 20px;">* Ch·ªânh s·ª≠a quy·ªÅn tr·ª±c ti·∫øp cho
				t·ª´ng Vai tr√≤. C√°c thay ƒë·ªïi s·∫Ω c√≥ hi·ªáu l·ª±c ngay khi ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p l·∫°i.</p>
			<div class="user-list-container">
				<table id="permissionTable">
					<thead>
						<tr>
							<th>Vai Tr√≤</th>
							<th style="min-width: 100px;">Qu·∫£n l√Ω b·ªüi</th>
							<th style="text-align:center">üìä CRM &<br>Sales</th>
							<th style="text-align:center">Qu·∫£n l√Ω<br>S·∫£n ph·∫©m</th>
							<th style="text-align:center">Danh s√°ch<br>ƒë∆°n h√†ng</th>
							<th style="text-align:center">Qu·∫£n l√Ω<br>nh√¢n vi√™n</th>
							<th style="text-align:center">Xem<br>B·∫£ng gi√°</th>
							<th style="text-align:center">Qu·∫£n l√Ω<br>Kho v·∫≠n</th>
							<th style="text-align:center">Thao t√°c</th>
						</tr>
					</thead>
					<tbody id="permissionTableBody">
						<!-- Data will be loaded here -->
					</tbody>
				</table>
			</div>
		</div>

		<div class="admin-section">
			<h2>üë• Danh S√°ch T√†i Kho·∫£n</h2>
			<div class="user-list-container">
				<table id="userTable">
					<thead>
						<tr>
							<th>ID</th>
							<th>H·ªç v√† T√™n</th>
							<th>Email (ƒêƒÉng nh·∫≠p)</th>
							<th>Vai Tr√≤</th>
							<th>Tr·∫°ng Th√°i</th>
							<th>Thao T√°c</th>
						</tr>
					</thead>
					<tbody id="userTableBody">
						<!-- Data will be loaded here -->
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<div id="toast"></div>

	<script>
		const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyaz_6xI3Nz0FHnNgr9qEcPuOUGf4OY53l8x1ofSoh_LIGozbKmpSJNAwpq8U6ygpPNHw/exec';
		let currentUser = null;

		// Check Login
		window.onload = function () {
			const userData = localStorage.getItem('user');
			if (!userData) {
				window.location.href = 'auth.html';
				return;
			}

			currentUser = JSON.parse(userData);
			if (currentUser.roleId !== 'R001') {
				alert('B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p trang n√†y!');
				window.location.href = 'index.html';
				return;
			}

			document.getElementById('adminName').innerText = currentUser.fullName;
			document.getElementById('avatarLetter').innerText = currentUser.fullName.charAt(0).toUpperCase();

			loadRoles();
			loadUsers();
			loadPermissions();
		};

		async function loadPermissions() {
			try {
				const response = await fetch(SCRIPT_URL, {
					method: 'POST',
					body: JSON.stringify({ action: 'getPhanQuyen' })
				});
				const data = await response.json();
				if (data.success) {
					renderPermissions(data.data);
				}
			} catch (err) {
				console.error("Failed to load permissions", err);
			}
		}

		function renderPermissions(perms) {
			const tbody = document.getElementById('permissionTableBody');
			tbody.innerHTML = perms.map(p => `
				<tr>
					<td>
						<div style="font-weight: 600;">${p.ten_vai_tro}</div>
						<div style="font-size: 0.75rem; color: var(--accent-purple);">${p.id_vai_tro}</div>
					</td>
					<td style="font-size: 0.8rem; color: var(--text-muted);">${p.email_quan_ly}</td>
					<td style="text-align:center"><input type="checkbox" id="v_${p.id_vai_tro}_${p.email_quan_ly}" ${p.checkin_sales === true ? 'checked' : ''} style="width:16px;height:16px;cursor:pointer"></td>
					<td style="text-align:center"><input type="checkbox" id="c_${p.id_vai_tro}_${p.email_quan_ly}" ${p.quan_ly_san_pham === true ? 'checked' : ''} style="width:16px;height:16px;cursor:pointer"></td>
					<td style="text-align:center"><input type="checkbox" id="d_${p.id_vai_tro}_${p.email_quan_ly}" ${p.danh_sach_don_hang === true ? 'checked' : ''} style="width:16px;height:16px;cursor:pointer"></td>
					<td style="text-align:center"><input type="checkbox" id="m_${p.id_vai_tro}_${p.email_quan_ly}" ${p.quan_ly_nhan_vien === true ? 'checked' : ''} style="width:16px;height:16px;cursor:pointer"></td>
					<td style="text-align:center"><input type="checkbox" id="x_${p.id_vai_tro}_${p.email_quan_ly}" ${p.xem_bang_gia === true ? 'checked' : ''} style="width:16px;height:16px;cursor:pointer"></td>
					<td style="text-align:center"><input type="checkbox" id="k_${p.id_vai_tro}_${p.email_quan_ly}" ${p.quan_ly_kho === true ? 'checked' : ''} style="width:16px;height:16px;cursor:pointer"></td>
					<td style="text-align:center">
						<button class="btn-edit" onclick="savePerm('${p.id_vai_tro}', '${p.ten_vai_tro}', '${p.email_quan_ly}')">L∆ØU</button>
					</td>
				</tr>
			`).join('');
		}

		async function savePerm(id, name, email) {
			const payload = {
				action: 'savePhanQuyen',
				id_vai_tro: id,
				ten_vai_tro: name,
				email_quan_ly: email,
				checkin_sales: document.getElementById(`v_${id}_${email}`).checked,
				quan_ly_san_pham: document.getElementById(`c_${id}_${email}`).checked,
				danh_sach_don_hang: document.getElementById(`d_${id}_${email}`).checked,
				quan_ly_nhan_vien: document.getElementById(`m_${id}_${email}`).checked,
				xem_bang_gia: document.getElementById(`x_${id}_${email}`).checked,
				quan_ly_kho: document.getElementById(`k_${id}_${email}`).checked
			};

			showLoader(true);
			try {
				const response = await fetch(SCRIPT_URL, {
					method: 'POST',
					body: JSON.stringify(payload)
				});
				const data = await response.json();
				if (data.success) {
					showToast('ƒê√£ l∆∞u quy·ªÅn th√†nh c√¥ng!', 'success');
					// N·∫øu Admin ƒëang s·ª≠a cho ch√≠nh Role c·ªßa m√¨nh, h√£y c·∫≠p nh·∫≠t LocalStorage ngay ƒë·ªÉ th·∫•y thay ƒë·ªïi ·ªü Menu
					if (id === currentUser.roleId) {
						const updatedPerms = {
							checkinSales: payload.checkin_sales,
							quanLySanPham: payload.quan_ly_san_pham,
							danhSachDonHang: payload.danh_sach_don_hang,
							quanLyNhanVien: payload.quan_ly_nhan_vien,
							xemBangGia: payload.xem_bang_gia,
							quanLyKho: payload.quan_ly_kho
						};
						localStorage.setItem('permissions', JSON.stringify(updatedPerms));
					}
				} else {
					showToast(data.message, 'error');
				}
			} catch (err) {
				showToast('L·ªói k·∫øt n·ªëi', 'error');
			} finally {
				showLoader(false);
			}
		}

		async function loadRoles() {
			try {
				const response = await fetch(SCRIPT_URL, {
					method: 'POST',
					body: JSON.stringify({ action: 'getRoles' })
				});
				const data = await response.json();
				if (data.success && data.roles && data.roles.length > 0) {
					const options = data.roles.map(r =>
						`<option value="${r.id}">${r.name}</option>`
					).join('');

					document.getElementById('roleSelect').innerHTML = options;
					document.getElementById('newRoleSelect').innerHTML = options;
				} else {
					console.warn("No roles found in sheet, using default list.");
				}
			} catch (err) {
				console.error("Failed to load roles from API", err);
			}
		}

		async function syncSystem() {
			if (!confirm("B·∫°n c√≥ mu·ªën ƒë·ªìng b·ªô l·∫°i c·∫•u tr√∫c Sheet v√† c√°c vai tr√≤ m·∫∑c ƒë·ªãnh kh√¥ng?")) return;
			showLoader(true);
			try {
				const response = await fetch(SCRIPT_URL, {
					method: 'POST',
					body: JSON.stringify({ action: 'setup' })
				});
				const data = await response.json();
				if (data.success) {
					showToast('ƒê√£ ƒë·ªìng b·ªô h·ªá th·ªëng th√†nh c√¥ng!', 'success');
					loadRoles(); // Reload list
				}
			} catch (err) {
				showToast('L·ªói ƒë·ªìng b·ªô', 'error');
			} finally {
				showLoader(false);
			}
		}

		async function loadUsers() {
			showLoader(true);
			try {
				const response = await fetch(SCRIPT_URL, {
					method: 'POST',
					body: JSON.stringify({
						action: 'getUsers',
						adminEmail: currentUser.email
					})
				});
				const data = await response.json();

				if (data.success) {
					renderUsers(data.users);
				} else {
					showToast('L·ªói t·∫£i danh s√°ch ng∆∞·ªùi d√πng', 'error');
				}
			} catch (err) {
				showToast('L·ªói k·∫øt n·ªëi m√°y ch·ªß', 'error');
			} finally {
				showLoader(false);
			}
		}

		function renderUsers(users) {
			const tbody = document.getElementById('userTableBody');

			if (!users || users.length === 0) {
				tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; padding: 40px; color: var(--text-muted);">B·∫°n ch∆∞a t·∫°o nh√¢n vi√™n/kh√°ch h√†ng n√†o.</td></tr>';
				return;
			}

			tbody.innerHTML = users.map(user => `
                <tr>
                    <td style="color: var(--accent-purple); font-weight: bold; font-size: 0.8rem;">${user.id || '...'}</td>
                    <td style="font-weight: 600;">${user.fullName}</td>
                    <td style="color: var(--text-muted); font-size: 0.85rem;">${user.email}</td>
                    <td>
                        <span class="role-badge ${user.roleId === 'R001' ? 'badge-admin' : 'badge-user'}">
                            ${getRoleDisplayName(user.roleId)}
                        </span>
                    </td>
                    <td>
                        <span class="status-dot ${user.status === 'Ho·∫°t ƒë·ªông' ? 'status-active' : 'status-locked'}"></span>
                        ${user.status}
                    </td>
                    <td>
                        <button class="btn-edit" onclick="quickEdit('${user.email}', '${user.roleId}')">S·ª≠a Quy·ªÅn</button>
                    </td>
                </tr>
            `).join('');
		}

		function getRoleDisplayName(roleId) {
			const names = {
				'R001': 'ADMIN',
				'R002': 'SALE',
				'R003': 'KHO',
				'R004': 'K·∫æ TO√ÅN',
				'R005': 'GUEST'
			};
			return names[roleId] || roleId;
		}

		function quickEdit(email, roleId) {
			document.getElementById('targetEmail').value = email;
			document.getElementById('roleSelect').value = roleId;
			// Scroll to the update form
			document.getElementById('updateRoleForm').scrollIntoView({ behavior: 'smooth' });
			// Highlight the input briefly
			const input = document.getElementById('targetEmail');
			input.style.borderColor = 'var(--primary)';
			setTimeout(() => input.style.borderColor = '', 1000);
		}

		document.getElementById('createUserForm').addEventListener('submit', async (e) => {
			e.preventDefault();
			const fullName = document.getElementById('newFullName').value;
			const email = document.getElementById('newEmail').value;
			const roleId = document.getElementById('newRoleSelect').value;

			showLoader(true);
			try {
				const response = await fetch(SCRIPT_URL, {
					method: 'POST',
					body: JSON.stringify({
						action: 'createUser',
						fullName: fullName,
						email: email,
						roleId: roleId,
						adminEmail: currentUser.email
					})
				});
				const data = await response.json();

				if (data.success) {
					showToast('ƒê√£ t·∫°o nh√¢n vi√™n th√†nh c√¥ng!', 'success');
					loadUsers();
					document.getElementById('createUserForm').reset();
				} else {
					showToast(data.message, 'error');
				}
			} catch (err) {
				showToast('L·ªói k·∫øt n·ªëi m√°y ch·ªß', 'error');
			} finally {
				showLoader(false);
			}
		});

		document.getElementById('updateRoleForm').addEventListener('submit', async (e) => {
			e.preventDefault();
			const targetEmail = document.getElementById('targetEmail').value;
			const newRoleId = document.getElementById('roleSelect').value;

			showLoader(true);
			try {
				const response = await fetch(SCRIPT_URL, {
					method: 'POST',
					body: JSON.stringify({
						action: 'updateRole',
						userEmail: targetEmail,
						newRoleId: newRoleId,
						adminEmail: currentUser.email
					})
				});
				const data = await response.json();

				if (data.success) {
					showToast('ƒê√£ c·∫≠p nh·∫≠t vai tr√≤ th√†nh c√¥ng', 'success');
					loadUsers(); // Refresh list
					document.getElementById('updateRoleForm').reset();
				} else {
					showToast(data.message, 'error');
				}
			} catch (err) {
				showToast('L·ªói k·∫øt n·ªëi m√°y ch·ªß', 'error');
			} finally {
				showLoader(false);
			}
		});

		function showToast(msg, type) {
			const toast = document.getElementById('toast');
			toast.innerText = msg;
			toast.style.borderLeft = type === 'success' ? '4px solid #22c55e' : '4px solid #ef4444';
			toast.classList.add('show');
			setTimeout(() => toast.classList.remove('show'), 3000);
		}

		function showLoader(show) {
			document.getElementById('loader').style.display = show ? 'flex' : 'none';
		}

		function logout() {
			localStorage.clear();
			window.location.href = 'auth.html';
		}
	</script>
</body>

</html>